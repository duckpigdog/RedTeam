### 清除 Linux 系统日志

Linux 系统存在多种日志文件，来记录系统运行过程中产生的日志

```sh
/var/log/btmp 		# 记录所有登录失败信息，使用 lastb 命令查看 ( 可以查看爆破 ssh 的 ip )
/var/log/lastlog 	# 记录系统中所有用户昀后一次登录时间的日志，使用 lastlog 命令查看
/var/log/wtmp 		# 记录所有用户的登录、注销信息，使用 last 命令查看 ( 可以查看成功登录的 ip )
/var/log/utmp 		# 记录当前已经登录的用户信息，使用 w , who , users 等命令查看
/var/log/secure 	# 记录与安全相关的日志信息
/var/log/message 	# 记录系统启动后的信息和错误日志
```

直接删除

```
echo > /var/log/btmp
echo > /var/log/wtmp
echo > /var/log/lastlog
echo > /var/log/utmp
cat /dev/null > /var/log/secure
cat /dev/null > /var/log/message
```

**推荐的清除方案 , 只清除指定 IP 的记录**

```cmd
cd /var/log/

grep -r 192.168.2.187 # 递归的查找日志中包含 192.168.2.187 的文件

# 删除所有匹配到字符串的行,比如以当天日期或者自己的登录 IP，以 message 举例，只要是日志都可以
这样操作
sed -i '/192.168.2.187/d' /var/log/messages

# 全局替换时间或者 IP 等关键字
sed -i 's/192.168.6.105/192.168.6.106/g' /var/log/messages # 个人 VPS
```