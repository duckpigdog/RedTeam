### 清除 Windows Web 日志

**IIS 日志**

默认 Windows Server 2012 没有安装IIS , 需要在服务器中添加 IIS 角色 , 一路默认即可

IIS 默认会每天记录一次日志，能记录下我们详细的入侵过程

```cmd
%SystemDrive%\inetpub\logs\LogFiles
```

![](https://pic1.imgdb.cn/item/68d9f05bc5157e1a88429ab2.png)

在该目录下删除指定日期的日志

如果无法删除文件，首先需要停止 w3svc 服务，再删除即可

```cmd
net stop w3svc
net start w3svc
```

不同的 Win 版本 IIS 日志路径不一样，这里列出几个

```
C:\Windows\System32\LogFiles # win_s_2003
C:\inetpub\logs\LogFiles # win_s_2008r2
%SystemDrive%\inetpub\logs\LogFiles # win_s_2012r2
```

推荐 ( 本质就是在做文件的修改 )

```cmd
findstr /v 192.168.118.118 u_ex250321.log > u_ex250321_new.log # 排除 hack ip , 把剩余的日
志追加到一个新文件
net stop w3svc
del u_ex250321.log
rename u_ex250321_new.log u_ex250321.log
net start w3svc
```

**Apache 日志**

apache 默认日志在安装目录下的 logs 目录中

访问日志：`access.log`  默认不开启, 需要打开 `conf\httpd.conf` 文件，搜索 CustomLog，取消注释

错误日志：`error.log`

![](https://pic1.imgdb.cn/item/68da038bc5157e1a8842cfa0.png)

**Nginx 日志**

```
nginx 默认日志在安装目录下的 logs 目录中
访问日志：access.log
错误日志：error.log
```

![](https://pic1.imgdb.cn/item/68da06e3c5157e1a8842e1fe.png)